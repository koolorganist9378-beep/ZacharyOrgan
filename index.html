<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="styles/main.css">
    <title>ZacharyOrgan</title>
</head>
<body>
    <div class="organ-layout"></div>

    </style>
</head>
<body>
  <div class="organ-layout">

    <script>
    // Request MIDI Access
    if (navigator.requestMIDIAccess) {
      navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);
    } else {
      alert("Web MIDI not supported in this browser. Use Chrome or Edge.");
    }

    function onMIDISuccess(midiAccess) {
      console.log("MIDI ready!");
      const inputs = midiAccess.inputs.values();
      for (let input of inputs) {
        input.onmidimessage = handleMIDIMessage;
      }
    }

    function onMIDIFailure() {
      console.error("Could not access your MIDI devices.");
    }

    function handleMIDIMessage(message) {
      const [command, note, velocity] = message.data;

      if (command === 144 && velocity > 0) {
        noteOn(note);
      } else if (command === 128 || (command === 144 && velocity === 0)) {
        noteOff(note);
      }
    }

    function noteOn(note) {
      const key = document.querySelector(`.key[data-note='${note}']`);
      if (key) key.classList.add('active');
    }

    function noteOff(note) {
      const key = document.querySelector(`.key[data-note='${note}']`);
      if (key) key.classList.remove('active');
    }
  </script>

    <div class="console">
      <h2>Organ Manual</h2>
      <div class="manual" id="manual1">
        <!-- Basic octave for demo -->
        <div class="key white" data-note="60"></div> <!-- C4 -->
        <div class="key black" data-note="61"></div> <!-- C#4 -->
        <div class="key white" data-note="62"></div> <!-- D4 -->
        <div class="key black" data-note="63"></div> <!-- D#4 -->
        <div class="key white" data-note="64"></div> <!-- E4 -->
        <div class="key white" data-note="65"></div> <!-- F4 -->
        <div class="key black" data-note="66"></div> <!-- F#4 -->
        <div class="key white" data-note="67"></div> <!-- G4 -->
        <div class="key black" data-note="68"></div> <!-- G#4 -->
        <div class="key white" data-note="69"></div> <!-- A4 -->
        <div class="key black" data-note="70"></div> <!-- A#4 -->
        <div class="key white" data-note="71"></div> <!-- B4 -->
      </div>
    </div>
  </div>

            <!-- LEFT STOPS -->
        <div class="stops-left">
            <div class="stop">COR DE NUIT 8'</div>
            <div class="stop">PRINCIPAL 8'</div>
            <div class="stop">OCTAVE 4'</div>
            <div class="stop">WALDFLUTE 2'</div>
        </div>

            <!-- RIGHT STOPS -->
        <div class="stops right">
            <div class="stop">Trompette 8′</div>
            <div class="stop">Oboe 8′</div>
            <div class="stop">Clarion 4′</div>
            <div class="stop">Subbass 16′</div>
        </div>

        <div class="choir">
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
        </div>

        <div class="great">
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
        </div>

        <div class="swell">
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="black"></div>
            <div class="white"></div>
            <div class="white"></div>
        </div>

        <script>
// Toggle stop lighting
document.querySelectorAll('.stop').forEach(stop => {
  stop.addEventListener('click', () => {
    stop.classList.toggle('active');
  });
});
</script>
    </div>
</body>
</html>